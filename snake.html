<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You found Snake!</title>
    <link rel="stylesheet" type="text/css" href="snake.css">

        <meta name="theme-color" content="#4C00FF"/> <!-- -->

        <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
        <link rel="icon" href="assets/icon/favicon.ico">
        <link rel="manifest" href="assets/icon/site.webmanifest">

</head>
<body>
    <header class="header-pixel">
        <a href="index.html"><svg class="tom" height="100%" viewBox="0 0 171 51" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
        <g transform="matrix(1,0,0,1,-5218.39,-2538.82)">
        <g transform="matrix(6.6364e-17,-1.08381,2.82725,1.73119e-16,4926.78,2788.81)">
            <path d="M230.663,157.637L230.663,163.565L184.274,163.565L184.274,145.782L230.663,145.782L230.663,151.71L217.272,154.674L230.663,157.637Z" style="fill:rgb(76,0,255);"/>
        </g>
        <g transform="matrix(6.6364e-17,-1.08381,0.942417,5.77064e-17,5097.76,2788.81)">
            <rect x="184.274" y="145.782" width="46.389" height="17.783" style="fill:rgb(76,0,255);"/>
        </g>
        <g transform="matrix(1.08381,0,1.2326e-32,0.942417,5018.67,2418.19)">
            <rect x="184.274" y="145.782" width="46.389" height="17.783" style="fill:rgb(76,0,255);"/>
        </g>
        <g transform="matrix(2,0,0,2,5050.26,2353.81)">
            <circle cx="126.774" cy="105.071" r="12.569" style="fill:rgb(76,0,255);"/>
        </g>
        </g>
        </svg></a>
        <img src="assets/eu.png" class="eu">
    </header>

        <main>
            <div class="snake-info">
                Use the arrow keys to catch as many berries as you can!
            </div>
            <canvas id="gameCanvas" width="600" height="600"></canvas>
             <script src="snake.js"></script>
             
    
    <div class="controls-container">
        <div class="button-row">
            <div class="spacer"></div>
            <button class="arrow-btn" data-key="ArrowUp" id="upBtn">▲</button>
            <div class="spacer"></div>
        </div>
        <div class="button-row">
            <button class="arrow-btn" data-key="ArrowLeft" id="leftBtn">◀</button>
            <button class="arrow-btn" data-key="ArrowDown" id="downBtn">▼</button>
            <button class="arrow-btn" data-key="ArrowRight" id="rightBtn">▶</button>
        </div>
    </div>

    <script>
        const buttons = document.querySelectorAll('.arrow-btn');

        function triggerKey(key, type) {
            const event = new KeyboardEvent(type, {
                key: key,
                code: key,
                bubbles: true,
                cancelable: true
            });
            document.dispatchEvent(event);
        }

        buttons.forEach(btn => {
            const key = btn.dataset.key;

            btn.addEventListener('touchstart', (e) => {
                e.preventDefault();
                btn.classList.add('pressed');
                triggerKey(key, 'keydown');
                feedback.textContent = `${key} pressed`;
            });

            btn.addEventListener('touchend', (e) => {
                e.preventDefault();
                btn.classList.remove('pressed');
                triggerKey(key, 'keyup');
                feedback.textContent = 'Ready';
            });

            btn.addEventListener('touchcancel', (e) => {
                e.preventDefault();
                btn.classList.remove('pressed');
                triggerKey(key, 'keyup');
            });

            btn.addEventListener('mousedown', (e) => {
                btn.classList.add('pressed');
                triggerKey(key, 'keydown');
                feedback.textContent = `${key} pressed`;
            });

            btn.addEventListener('mouseup', () => {
                btn.classList.remove('pressed');
                triggerKey(key, 'keyup');
                feedback.textContent = 'Ready';
            });

            btn.addEventListener('mouseleave', () => {
                btn.classList.remove('pressed');
                triggerKey(key, 'keyup');
            });
        });
    </script>
    </div>
        </main>
</body>
</html>